%h3.page-title
  = t('.group_membership')
  - if current_user.can_create_group?
    %span.pull-right
      = link_to new_group_path, class: "btn btn-new" do
        %i.icon-plus
        = t('.new_group')
%p.light
  = t('.group_members_have_access_to_all')
%hr
.ui-box
  .title
    %strong= t('groups', scope: 'admin.dashboard.index')
    (#{@user_groups.count})
  %ul.well-list
    - @user_groups.each do |user_group|
      - group = user_group.group
      %li
        .pull-right
          - if can?(current_user, :manage_group, group)
            = link_to edit_group_path(group), class: "btn-small btn btn-grouped" do
              %i.icon-cogs
              = t('general.settings')

          - if can?(current_user, :destroy, user_group)
            = link_to leave_profile_group_path(group), data: { confirm: leave_group_message(group.name) }, method: :delete, class: "btn-small btn btn-grouped", title: 'Remove user from group' do
              %i.icon-signout
              = t('dashboard', scope: 'dashboard.projects')

        = link_to group, class: 'group-name' do
          %strong= group.name

        = t('.as')
        %strong #{user_group.human_access}

        %div.light
          #{pluralize(group.projects.count, t('.project'), t('.projects'))}, #{pluralize(group.users.count, t('.user'), t('.users'))}

= paginate @user_groups
